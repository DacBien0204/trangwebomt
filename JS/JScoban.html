<!DOCTYPE html>
<html>

<head>
    <title>Javascript cơ bản</title>
</head>

<body>
    <div id="var"></div>
    <div id="let"></div>
    <div id="const"></div>
    <div id="datatypes"></div>
    <div id="object"></div>
    <div id="array"></div>
    <div id="operator"></div>
    <div id="function"></div>
    <div id="for"></div>
    <div id="forin"></div>
    <div id="forof"></div>
    <div id="while"></div>
    <div id="dowhile"></div>
    <div id="arrmethod"></div>
    <!-- array function math -->
    <h2>JavaScript Array</h2>
    <p>The highest number is <span id="max"></span>.</p>
    <p>The lowest number is <span id="min"></span>.</p>
    <h2>Javascript Promise</h2>
    <p id="promise"></p>
    <p id="await"></p>
    <h2>Time</h2>
    <p id="setInterval"></p>
    <script>
    // var
        var x1 = 6;
        x1 += 5;
        var z1 = x1 + 7;
        var name1 = "Bich" + " " + "Ngoc";
        var str1 = "5" + 6;
        document.getElementById("var").innerHTML = z1 + "<br>" + name1 + "<br>" + str1;
    // let
        let x2 = 10;
        {
            let x2 = 2;
        }
        document.getElementById("let").innerHTML = x2;
    // const 
        const cars = ["Saab", "Volvo", "BMW"];
        cars[0] = "Toyota";
        cars.push("Audi");
        document.getElementById("const").innerHTML = cars;
    // data types
        let length = 16;                                    // Number
        let lastName = "Ngoc";                              // String
        let x = { firstName: "Bich", lastName: "Ngoc" };    // Object
    // object
        const person = {
            firstName: "Bich",
            lastName: "Ngoc",
            id: 1006,
            fullName: function () {
                return this.firstName + " " + this.lastName;
            }
        };
        document.getElementById("object").innerHTML = person.fullName() + " " + person.id;
    // array
        const drinks = [
            "Orange Juice",
            "Tea",
            "Coffee"
        ];
        let drink = drinks[2];
        drink[0] = "Milk";
        let drink1 = drinks[drinks.length-1];
        document.getElementById("array").innerHTML = drinks + " " + drinks.length;
    // conditional (ternary) Operator
        let age = 21;
        let voteable = (age < 18) ? "Too young" : "Old enough";
        document.getElementById("operator").innerHTML=voteable;
    // function
        document.getElementById("function").innerHTML = "The temperature is " + toCelsius(77) + " Celsius";
        function toCelsius(fahrenheit) {
            return (5/9) * (fahrenheit-32);
        } 
    // for
        let text1 = "";
        for (let i = 0; i < drinks.length; i++){
            text1 += drinks[i] + " ";
        }
        document.getElementById("for").innerHTML = text1;
    // for...in
        let text2 = "";
        for (let i in drinks){
            text2 += drinks[i] + " ";
        }
        let txt = "";
        drinks.forEach(myFunction);
        function myFunction(value){
            txt += value + " ";
        }
        document.getElementById("forin").innerHTML = text2 + txt;
    // for...of
        let language = "JavaScript";
        let text3 = "";
        for (let i of language){
            text3 += i + " ";
        }
        document.getElementById("forof").innerHTML = text3;
    // while
        let text4 = "";
        let i = 0;
        while(i < 4){
            text4 += "<br>The number is " + i;
            i++;
        }
        document.getElementById("while").innerHTML = text4;
    // do...while
        let text5 = "";
        i = 0;
        do {
            text5 += "<br>The number is " + i;
            i++;
        }
        while (i < 3);
        document.getElementById("dowhile").innerHTML = text5;
    // array methods
        const fruits = ["Banana", "Orange", "Apple", "Mango"];
        fruits.pop();
        fruits.push("Kiwi");
        fruits.shift();
        fruits.unshift("Lemon");
        fruits[1] = "Banana";
        fruits[fruits.length] = "Mango";
        fruits.splice(2, 0, "Lemon", "Kiwi");
        fruits.splice(0, 1);
        fruits.splice(2,1);
        fruits.sort();
        fruits.reverse();
        const even = [0,2,4,6,8];
        const odd = [1,3,5,7,9];
        const numbers = even.concat(odd);
        numbers.sort();
        const numbers2 = numbers.map(myFunction2);
        function myFunction2(value){
            return value * 2;
        }
        document.getElementById("arrmethod").innerHTML = fruits.toString() 
            + "<br>" + fruits.join(" * ") + "<br>" + numbers
            + "<br>" + numbers2;
        
    
    // callback function
        function notify() {
            console.log("Hello world!");
        }
        function taskOne(callback) {
            callback();
        }
        taskOne(notify);
    // array function
        const numbers1 = [45, 4, 9, 16, 25];
        // map
        const numbers3 = numbers1.map(myFunction);
        function myFunction(value) {
            return value * 2;
        }
        console.log(numbers3);
        // filter
        const over18 = numbers1.filter(myFilter);
        function myFilter(value) {
            return value > 18;
        }
        console.log(over18);
        // reduce
        let sum = numbers1.reduce(mySum);
        function mySum(total, value) {
            return total + value;
        }
        console.log(sum);
        // find
        let first = numbers1.find(Find);
        function Find(value) {
            return value > 18;
        }
        console.log(first);
        // sort
        const numbers4 = numbers1.sort(function (a, b) { return a - b });
        console.log(numbers4);
        // math
        document.getElementById("max").innerHTML = myArrayMax(numbers1);
        function myArrayMax(arr) {
            return Math.max.apply(null, arr);
        }
        document.getElementById("min").innerHTML = myArrayMin(numbers1);
        function myArrayMin(arr) {
            return Math.min.apply(null, arr);
        }
    // json method
        // stringify
        var user = {
            name: "Ngoc",
            age: 21,
        };
        var json = JSON.stringify(user);
        console.log(json);
        console.log(typeof json);
        // parse
        var str = '{ "name" : "Bich Ngoc", "age" : 21 }';
        var obj = JSON.parse(str);
        console.log(obj.name);
    // Promise
        function myDisplayer(some){
            document.getElementById("promise").innerHTML = some;
        }
        let myPromise = new Promise(function(myResolved, myReject){
            let x = 0;
            if(x == 0){
                myResolved("OK");
            } else{
                myReject("Error");
            }
        });
        myPromise.then(
            function(value) {myDisplayer(value);},
            function(error) {myDisplayer(error);}
        );
    // Async Await setTimeout
        async function myDisplay(){
            let myPrm = new Promise(function(resolve){
                setTimeout(function() {resolve("Hello World!");}, 3000);
            });
            document.getElementById("await").innerHTML = await myPrm;
        }
        myDisplay();
    // setInterval Date
        setInterval(displayTime, 1000);
        function displayTime(){
            var d = new Date();
            document.getElementById("setInterval").innerHTML = d.toLocaleTimeString();
        }
    </script>
</body>
</html>